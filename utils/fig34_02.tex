%
% Latex template to generate trace for profiling
%
% Author : Miguel Zavala
%
\documentclass[border=10pt]{standalone} 

\usepackage[usenames,dvipsnames]{xcolor} % https://en.wikibooks.org/wiki/LaTeX/Colors

\usepackage{pgfplots} 
\usepackage{tikz}
\usetikzlibrary{patterns}

\usetikzlibrary{backgrounds,fit,decorations.pathreplacing}  % TikZ libraries
\pgfdeclarelayer{background}
\pgfsetlayers{background,main}

%-------------------------------------------------------------------------||---%

\pgfmathsetmacro{\Xa }{            1  }
\pgfmathsetmacro{\dX }{\Xa * 0.05 }
\pgfmathsetmacro{\dY }{\dX           }
%
\pgfmathsetmacro{\n } { (2) }                       % < -- mover aqui
\pgfmathsetmacro{\Li }{ \Xa * 2^ \n * 1.0 } % <- Size_j = Size_i / 4 
\pgfmathsetmacro{\Hi }{ \Xa * 2^-\n * 1.0 }
%
%\pgfmathsetmacro{\Li }{  \Xa * 2^ \n * (1.0 - 0.1*rand) } % <- Size_j = Size_i / 4 

%-------------------------------------------------------------------------||---%
\colorlet{ColorAA}{Gray}
\colorlet{ColorAB}{SkyBlue!95!SeaGreen}
\colorlet{ColorAC}{Goldenrod} 
\colorlet{ColorAD}{Plum} 
\colorlet{ColorAE}{Bittersweet} 
\colorlet{ColorAF}{Gray} 

%-------------------------------------------------------------------------||---%
%
\usepackage{pgf}
\pgfmathsetseed{\number\pdfrandomseed}
%
%-------------------------------------------------------------------------||---%
\makeatletter %new code
\pgfdeclarepatternformonly[\LineSpace]
{MyPattern}
{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{\LineSpace}{\LineSpace}}{\pgfqpoint{\LineSpace}{\LineSpace}}%
{
    \pgfsetcolor{\tikz@pattern@color} %new code
    \pgfsetlinewidth{0.2pt}
% patter: ////    
%    \pgfpathmoveto{\pgfqpoint{0pt}{0pt}}
%    \pgfpathlineto{\pgfqpoint{\LineSpace + 0.1pt}{\LineSpace + 0.1pt}}
% patter: \\\\    
    \pgfpathmoveto{\pgfqpoint{0pt}{\LineSpace}}
    \pgfpathlineto{\pgfqpoint{\LineSpace + 0.1pt}{-0.1pt}}
%
    \pgfusepath{stroke}
}
\makeatother %new code
\newdimen\LineSpace
\tikzset{
    line space/.code={\LineSpace=#1},
    line space=3pt
}
%
%-------------------------------------------------------------------------||---%


\begin{document} 


\begin{tikzpicture} 
[
show background rectangle, 
background rectangle/.style={pattern=north west lines,pattern color=Blue},
] 
%
  \foreach \j in {1,2,...,32} 
  {
%  \foreach \j/\colorj  [evaluate = \j as \ypp using int(5-\j+1)] in {1/NavyBlue, 2/Blue, 3/Gray!50, 4/Orange, 5/Maroon} 
%  {
%      %
%      \draw[, draw=Black,fill=\colorj,line width=3pt] 
%                                      (\Li-0.01*\Li, \j * \Hi+0.0*\Hi)                                              % <- posicion inicial 
%                       rectangle (\Li-0.15*\Li, \j * \Hi+1.0*\Hi)                                              % <- ancho 
%                      node[pos=.5,font={\Huge \boldmath},Black,] {$\Omega_{\ypp} $};   % <- label 
%      %
    %\foreach \i in {1,2,...,5} 
%    \foreach \k  [ evaluate = \k as \i using \k*(1+0.02*rand) ] in {1,2,...,5}  
    \foreach \k  [ evaluate = \k as \i using \k*(1- 0.01 + 2 * 0.005 * rand) ] in {1,2,...,5}  
    {
      \filldraw[fill=ColorAA, draw=White] (\i * \Li+0.00*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.05*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAA, draw=White] (\i * \Li+0.05*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.10*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAB, draw=White] (\i * \Li+0.10*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.55*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAC, draw=White] (\i * \Li+0.55*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.60*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAD, draw=White] (\i * \Li+0.60*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.75*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAE, draw=White] (\i * \Li+0.75*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.90*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
%    \begin{pgfonlayer}{background} 
      \filldraw[fill=ColorAF, draw=White] (\i * \Li+0.90*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.95*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAF, draw=White] (\i * \Li+0.95*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.99*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
%    \end{pgfonlayer}
    } 
  }

%%\draw[step=1cm,Gray,very thin] (-\dX,-\dY )        grid (8*\Xa + \dX,2*\Ya + \dY );
%\draw[                                     ] (-\dX,-\dY) rectangle (1.0*\Li+\dX,1.0*\Hi+\dY);
%%
%\filldraw[fill=ColorAA, draw=Black] (0.00*\Li,0.0) rectangle (0.05*\Li,1.0*\Hi);
%\filldraw[fill=ColorAB, draw=Black] (0.05*\Li,0.0) rectangle (0.60*\Li,1.0*\Hi);
%\filldraw[fill=ColorAC, draw=Black] (0.60*\Li,0.0) rectangle (0.65*\Li,1.0*\Hi);
%\filldraw[fill=ColorAD, draw=Black] (0.65*\Li,0.0) rectangle (0.80*\Li,1.0*\Hi);
%\filldraw[fill=ColorAE, draw=Black] (0.80*\Li,0.0) rectangle (0.95*\Li,1.0*\Hi);
%\filldraw[fill=ColorAF, draw=Black] (0.95*\Li,0.0) rectangle (1.00*\Li,1.0*\Hi);


%\filldraw[pattern=north west lines, pattern color=ColorBA] (\Lj, 0*\Hj)  rectangle(\Li,\Hj);

\end{tikzpicture} 

\end{document} -

