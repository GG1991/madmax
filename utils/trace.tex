%
% Latex template to generate trace for profiling
%
% Author : Miguel Zavala
%
\documentclass[border=10pt]{standalone} 

\usepackage[usenames,dvipsnames]{xcolor} % https://en.wikibooks.org/wiki/LaTeX/Colors

\usepackage{pgfplots} 
\usepackage{tikz}
\usetikzlibrary{patterns}

\usetikzlibrary{backgrounds,fit,decorations.pathreplacing}  % TikZ libraries
\pgfdeclarelayer{background}
\pgfsetlayers{background,main}

%-------------------------------------------------------------------------||---%

\pgfmathsetmacro{\Xa }{            1  }
\pgfmathsetmacro{\dX }{\Xa * 0.05 }
\pgfmathsetmacro{\dY }{\dX           }
%
\pgfmathsetmacro{\n } { (2) }                       % < -- mover aqui
\pgfmathsetmacro{\Li }{ \Xa * 2^ \n * 1.0 } % <- Size_j = Size_i / 4 
\pgfmathsetmacro{\Hi }{ \Xa * 2^-\n * 1.0 }
%
%\pgfmathsetmacro{\Li }{  \Xa * 2^ \n * (1.0 - 0.1*rand) } % <- Size_j = Size_i / 4 

%-------------------------------------------------------------------------||---%
\colorlet{ColorAA}{Gray}
\colorlet{ColorAB}{SkyBlue!95!SeaGreen}
\colorlet{ColorAC}{Goldenrod} 
\colorlet{ColorAD}{Plum} 
\colorlet{ColorAE}{Bittersweet} 
\colorlet{ColorAF}{Gray} 

%-------------------------------------------------------------------------||---%
%
\usepackage{pgf}
\pgfmathsetseed{\number\pdfrandomseed}
%
%-------------------------------------------------------------------------||---%
\makeatletter %new code
\pgfdeclarepatternformonly[\LineSpace]
{MyPattern}
{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{\LineSpace}{\LineSpace}}{\pgfqpoint{\LineSpace}{\LineSpace}}%
{
    \pgfsetcolor{\tikz@pattern@color} %new code
    \pgfsetlinewidth{0.2pt}
% patter: ////    
%    \pgfpathmoveto{\pgfqpoint{0pt}{0pt}}
%    \pgfpathlineto{\pgfqpoint{\LineSpace + 0.1pt}{\LineSpace + 0.1pt}}
% patter: \\\\    
    \pgfpathmoveto{\pgfqpoint{0pt}{\LineSpace}}
    \pgfpathlineto{\pgfqpoint{\LineSpace + 0.1pt}{-0.1pt}}
%
    \pgfusepath{stroke}
}
\makeatother %new code
\newdimen\LineSpace
\tikzset{
    line space/.code={\LineSpace=#1},
    line space=3pt
}
%
%-------------------------------------------------------------------------||---%


\begin{document} 


\begin{tikzpicture} 
[
show background rectangle, 
background rectangle/.style={pattern=north west lines,pattern color=Blue},
] 
%
  \foreach \j in {1,2,...,32} 
  {
    \foreach \k  [ evaluate = \k as \i using \k*(1- 0.01 + 2 * 0.005 * rand) ] in {1,2,...,5}  
    {
      \filldraw[fill=ColorAA, draw=White] (\i * \Li+0.00*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.05*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAA, draw=White] (\i * \Li+0.05*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.10*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAB, draw=White] (\i * \Li+0.10*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.55*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAC, draw=White] (\i * \Li+0.55*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.60*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAD, draw=White] (\i * \Li+0.60*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.75*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAE, draw=White] (\i * \Li+0.75*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.90*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAF, draw=White] (\i * \Li+0.90*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.95*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
      \filldraw[fill=ColorAF, draw=White] (\i * \Li+0.95*\Li, \j * \Hi+0.0*\Hi+0*\dY) 
                                            rectangle (\i * \Li+0.99*\Li, \j * \Hi+1.0*\Hi- 0*\dY);
    } 
  }

\end{tikzpicture} 

\end{document} -
